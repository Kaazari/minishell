---
description:
globs:
alwaysApply: false
---

# Chapter III â€“ Mandatory Part

## ğŸ¯ Program Name

```
minishell
```

## ğŸ“ Turn-in Files

- `Makefile`
- `*.h`
- `*.c`

## ğŸ› ï¸ Makefile Rules

- `NAME`
- `all`
- `clean`
- `fclean`
- `re`

## ğŸ“¥ Arguments

## ğŸ§° External Functions AutorisÃ©es

```c
readline, rl_clear_history, rl_on_new_line, rl_replace_line, rl_redisplay, add_history,
printf, malloc, free, write, access, open, read, close,
fork, wait, waitpid, wait3, wait4, signal, sigaction,
sigemptyset, sigaddset, kill, exit, getcwd, chdir,
stat, lstat, fstat, unlink, execve, dup, dup2, pipe,
opendir, readdir, closedir, strerror, perror, isatty,
ttyname, ttyslot, ioctl, getenv, tcsetattr, tcgetattr,
tgetent, tgetflag, tgetnum, tgetstr, tgoto, tputs
```

## ğŸ“š Libft

**AutorisÃ© :** âœ…

---

## ğŸ§¾ Description

**Objectif :** Ã‰crire un shell.

---

## âœ… FonctionnalitÃ©s Obligatoires

### ğŸ–¥ï¸ Interface

- Affiche un **prompt** lorsquâ€™il attend une commande.

### ğŸ•˜ Historique

- GÃ¨re un **historique fonctionnel** des commandes.

### ğŸ” ExÃ©cution

- Recherche et lance le bon exÃ©cutable :
  - BasÃ© sur la variable `PATH`
  - Ou Ã  lâ€™aide dâ€™un chemin **relatif** ou **absolu**

### ğŸŒ Variable Globale

- Tu dois utiliser **au plus une seule variable globale** pour indiquer quâ€™un signal a Ã©tÃ© reÃ§u.
- âš ï¸ **Attention :** cette variable :
  - Ne doit contenir **que le numÃ©ro du signal**.
  - **Ne doit jamais** permettre dâ€™accÃ©der Ã  dâ€™autres structures ou de stocker d'autres informations.
  - Lâ€™utilisation de structures de type "norm" (struct globale) est interdite dans le scope global.

---

## âŒ Comportements Ã  Ã©viter

- Ne pas interprÃ©ter :
  - Les **quotes non fermÃ©es**
  - Les caractÃ¨res spÃ©ciaux **non requis** comme :
    - `\` (backslash)
    - `;` (point-virgule)

---

## ğŸ§µ Gestion des Quotes

| Type de quote | Comportement attendu                                                  |
| ------------- | --------------------------------------------------------------------- |
| `'` (simple)  | EmpÃªche toute interprÃ©tation des **mÃ©tacaractÃ¨res** dans la sÃ©quence. |
| `"` (double)  | EmpÃªche lâ€™interprÃ©tation des mÃ©tacaractÃ¨res **sauf `$`**.             |

---

## ğŸ” Redirections Ã  implÃ©menter

| Syntaxe | Effet                                                                                                                      |
| ------- | -------------------------------------------------------------------------------------------------------------------------- |
| `<`     | Redirige **lâ€™entrÃ©e**                                                                                                      |
| `>`     | Redirige **la sortie**                                                                                                     |
| `<<`    | Redirige avec un **dÃ©limiteur** : lit jusquâ€™Ã  une ligne contenant ce dÃ©limiteur. <br>ğŸš« **Nâ€™ajoute pas** dans lâ€™historique |
| `>>`    | Redirige la sortie en **mode append**                                                                                      |

---

## ğŸ§ª Pipes

- GÃ©rer le caractÃ¨re `|` (pipe).
- La **sortie** de chaque commande est connectÃ©e Ã  lâ€™**entrÃ©e** de la commande suivante.

---

## ğŸŒ± Variables dâ€™environnement

- GÃ©rer les variables de la forme :

  ```
  $VAR
  ```

  â†’ Doivent Ãªtre **expandÃ©es** Ã  leur valeur.

- GÃ©rer Ã©galement :
  ```
  $?
  ```
  â†’ Doit Ãªtre expandÃ© au **code de sortie** de la **derniÃ¨re commande exÃ©cutÃ©e au premier plan**.

---

## ğŸ¹ ContrÃ´les clavier

### En mode interactif :

| Touche   | Comportement                                         |
| -------- | ---------------------------------------------------- |
| `Ctrl-C` | Affiche un **nouveau prompt sur une nouvelle ligne** |
| `Ctrl-D` | **Quitte** le shell                                  |
| `Ctrl-\` | **Ne fait rien**                                     |

---

## ğŸ—ï¸ Built-in Commands Ã  implÃ©menter

| Commande | DÃ©tails                                         |
| -------- | ----------------------------------------------- |
| `echo`   | avec lâ€™option `-n`                              |
| `cd`     | uniquement avec un **chemin relatif ou absolu** |
| `pwd`    | sans option                                     |
| `export` | sans option                                     |
| `unset`  | sans option                                     |
| `env`    | sans option ni argument                         |
| `exit`   | sans option                                     |

---

## ğŸ§  Remarques Importantes

- La fonction `readline()` peut **causer des fuites mÃ©moire**, mais tu **nâ€™es pas obligÃ©** de les corriger.
- âš ï¸ **En revanche, ton propre code ne doit pas avoir de fuites mÃ©moire.**

---

## ğŸ›‘ Limitations

Tu dois **te limiter strictement** Ã  ce qui est demandÃ© dans ce sujet.

---

## ğŸš RÃ©fÃ©rence

En cas de doute sur un comportement : **rÃ©fÃ¨re-toi Ã  Bash**.
